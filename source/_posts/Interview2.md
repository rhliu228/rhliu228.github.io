---
title: 第一次社招面试总结（下）
date: 2019-11-27 17:04:00
tags: 
- 前端开发
---

#### 背景
经历了八、九月份的面试后，我觉得不能吊死在鹅厂上，于是把目光投向了字节跳动。在师弟的怂恿下，我刷起了算法，主要途径就是阅读《剑指offer》和刷leetcode。国庆前后，我先后投了微信、字节跳动、大疆。
<!-- more -->

#### 大疆
找师兄要内推码，投了简历之后，很快就收到了测评邮件。测评问题不难，涉及性格、智力、数学等方面，不过题量有点大。
大疆的面试比较灵活，一面基本上围绕项目展开，二面面试官喜欢问一些智力题和证明题，脑筋急转弯不过关的我就掉进了那一堆硬币、三角形的陷阱里，然后挂了。
一面有两个面试官，一上来就丢给我一个问题：请说一说你的项目，阐述它的难点。我开始滔滔不绝地阐述，其中有一个树形结构的可视化展示需求，引起了面试官的注意，所以很不幸，面试方向转为探讨K叉树的树构造、节点查询所花费的时间、空间复杂度。。。最后，采用数据结构map，通过空间换取时间的策略，我赢得了进入二面的机会。
二面面试官喜欢考察候选人是否具有发散思维，基础是否扎实不重要，关键是脑洞要够大。有些问题记不清了，这里写下还记得的。
1. 有两组数据：
   A1,A2,B1,C1,C2,D1,D2,D3...
   A,B,C,D...
   要求转变成：
   A1,A2,A,B1,B,C1,C2,C,D1,D2,D3,D...
   请写出代码
   这道题有很多解法，面试官对一些约束条件也没具体说明，只能靠自己设想并询问清楚。但是有一点让我意外的是，面试官看不懂我代码里的es6语法。。。
2. 

    ```
    for(var i = 0; i < 5; i++) {
        setTimout(function(){
            console.log(i);
        },0);
    }
    ```
    问怎么修改才能让控制台依次打印出0、1、2、3、4。
    我一下子就说了三种方法：
    * 将var改成let
    * 使用闭包
    * 利用setTimeout的第三个参数：
    ```
    for(var i = 0; i < 5; i++) {
        setTimout(function(j){
            console.log(j);
        }, 0, i);
    }
    ```

    说完之后，才意识到自己掉进陷阱里了，后面再也想不出其他方法了。。。

3. 有一段代码：
    ```
    var X = 10;
    function X() {
        X = 1;
        console.log(X);
    }
    ```
    问这段代码打印什么结果；如何修改代码，让代码分别打印1和10。我首先说了我的理解，告诉面试官函数声明提升优先级高于普通变量声明，但是面试官貌似不知道这个原则，我只能呵呵。
4. 有21个硬币，其中10个正面，蒙住你的眼睛，问如何将硬币分成两份，每份正面朝上的硬币数目一样。
5. 有一个直角三角形，斜边长10cm，斜边上的高为6cm，求三角形面积。这道题其实是想让候选人想到，这个三角形其实是不存在的。
 
面完之后，我就已经觉得凉凉了。这次面试完全没有发挥自己的优势，面试官说创新是与生俱来的，大疆更喜欢脑子灵动的人。我虽然有点难受，但不得不说，大疆不适合我，挂了我也罢。

#### 微信
鹅厂一年工作经验的岗位太少了，所以我思来想去，斗胆投了微信。微信在正式面试之前给我发了一道题目：实现一个随机选座系统。我主要采用动态规划的思想，花了一番功夫写出了核心代码，然后就收到了一面邀约。
1. 项目经历中涉及云计算，所以面试官让我聊一聊SaaS，Iaas，Paas
2. 说一说JS原型链，手写代码实现JS继承。我采用的继承方式是寄生组合式继承，具体可参考红宝书。
3. 用过哪些es6新特性，promise，generator如何实现。promise需要注意的是如何实现链式调用，而generator本质上就是一个状态机。
4. map，set对比，map和对象有什么区别
5. let const区别
6. 请详细说说你知道的web安全和对应的防御方式。我主要讲述了XSS，CSRF，点击劫持，跨域安全等。
7. token如何实现，token一定要存放在服务端吗。其实token不一定放在服务端，也可以放在cookie中，取出来作对比即可。但是如果网站同时存在XSS漏洞，那token有可能发生泄漏。
8. cookie和session有什么区别
9. session一般存放在什么地方
10. 浏览器缓存级别
11. 200和304有什么区别
12. babel-preset-env如何配置构建两次
13. webpack和rollup对比，webpack如何实现一个插件，webpack如何管理插件
14. vue如何实现数据绑定，vue更新视图采用的是同步还是异步。
15. react setstate异步还是同步，事务机制。这里的事务机制没有理解透彻，所以回答得不好。
16. 算法题：一个表里存储着数据，每一行包括用户的姓名，出生日期，死亡日期，求哪一年人口总数最多
17. 平时如何学习前端

一面与面试官聊的挺好的，可惜那个部门没有hc了，所以把我转推给了微信的另一个部门。有点惨的地方在于，又得重新做题。。
题目如下：
1. for循环+setimeout输出结果
2. 考察原型链继承
3. vue filter实现一个trim
4. 每当用户调用console.log方法时，需要在输出的内容后追加一个字符串“type”。这里其实就是想让我重写console.log。
5. 实现一个控制并发请求的函数，正在执行ajax请求的最大数目是m，所有请求完成后输出所有响应结果。
6. 求二叉树任意两个节点之间的距离
7. 实现JSON.stringify

问答环节主要涉及：
1. 讲解试卷
2. vue和react区别
3. nodejs原理
4. HTTPS原理
5. 写过什么静态类型的语言；c++从文本变成可执行程序经过哪些步骤。这里我居然漏了汇编环节。。事实上，c++文件需要经过预编译、编译、汇编、链接才可变成可执行程序。
6. 做过哪些性能优化

微信总监面让人觉得压力太大，而且比较喜欢挖掘项目。
1. 说一说你的项目难点。我参与的项目并没有多难，所以面试官老是反问我，这里有什么难的吗。。。
2. 实现一个淘宝的商品规格联动置灰高亮功能。
3. 双向链表能否转换成二叉搜索树，为什么。
4. 为什么JS事件会存在事件代理。
5. 在不支持position:fixed的浏览器中如何模拟实现这个效果。
6. 什么是ACID。
7. 为什么跳槽。

事实上，项目难点确实是我的硬伤，所以我又一次挂了鹅厂。

#### 字节跳动
首先，字节跳动的算法并没有想象得这么难。其次，四面都是视频面试，省去了来回奔波的烦恼，很赞。
一面：
1. promise、setTimeout执行顺序
2. 实现一个函数add，要求如下：
   add(1,2)(3).sumOf();  // 6
   add(1,2,3).sumOf();   // 6
   add(1)(2)(3)(4).sumOf();      //10
   add(1)(2,3)(4)(5).sumOf();    //15
   ......
3. 实现一个函数print，奇数次调用打印1，偶数次调用打印2，不允许使用全局变量
4. 实现一个函数，用于执行二进制字符串相加：
   eg: '110001' + '110100' = '1100101'
5. 问答： 牛客网里，你在牛客网提供的编辑器写代码，为什么我这边能实时看见。

二面：
1. 使用Array的reduce方法实现map方法
2. 实现es6的Symbol:
   var s1 = Symbol('s');
   var s2 = Symbol('s');
   s1 === s2;   // false
   var s3 = Symbol.for('s');
   var s4 = Symbol.for('s');
   s3 === s4;   // true

3. 两个无序数组，合并成一个有序数组，如果两个数组存在交集，则取数量多的那一侧。
   eg: 
    ```
       数组1：[ 3,2,2,1 ]，
       数组2：[ 2,2,2,4 ]，
       合并后的结果为[ 1,2,2,2,3,4 ]
    ```
4. 给定一个数字字符串和变换次数k，判断是否能否在该变换次数k之内，将该数字字符串变成回文字符串，且数字尽可能大。
5. 问答：挑一个你们项目依赖的插件或者框架，说一说它的特点。我挑了axios，然后面试官问我如何实现axios的拦截器功能。

三面：
1. 给一串数字，给它加上千位分隔符
2. http常见状态码有哪些，403代表什么意思，有哪些应用场景，304呢？
3. expires、cache-control、etag、last-modified的优先级，为什么。
4. etag是怎么实现的
5. csrf成因和防御措施
6. 项目难点
7. 为什么离职
8. 个人优缺点

#### 总结
最后拿到了字节跳动的offer，于是就跑路了。总的来说，面试确实不是一件容易的事，需要实力、技巧和持久的毅力。而且就算准备了很多，面试还得看眼缘和运气。嘤嘤嘤，最想去鹅厂了，可惜它不肯收我。
最后感谢这一年来陪伴我的书籍：
《深入浅出nodejs》
《你不知道的Javascript》上中下卷
《大型网站技术架构》
《白帽子讲web安全》
《Javascript设计模式与开发实践》
《web性能权威指南》
《剑指offer》